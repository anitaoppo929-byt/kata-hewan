const animals = [
  {name:"kucing", clue:"Hewan lucu berbulu lembut, suka mengeong.", img:"k.jpg"},
  {name:"kuda", clue:"Hewan cepat, berkaki empat, sering ditunggangi manusia.", img:"D.webp"},
  {name:"penguin", clue:"Burung yang tidak bisa terbang tapi pandai berenang.", img:"ping.jpg"},
  {name:"gajah", clue:"Mamalia terbesar dengan belalai panjang.", img:"G.jpg"},
  {name:"anjing", clue:"Hewan setia, suka menggonggong dan bermain.", img:"A.jpg"},
  {name:"harimau", clue:"Bergaris oranye hitam, predator hutan.", img:"H.jpg"},
  {name:"jerapah", clue:"Lehernya sangat panjang, pemakan daun di pohon tinggi.", img:"J.jpg"},
  {name:"panda", clue:"Beruang hitam-putih, suka makan bambu.", img:"P.jpg"},
  {name:"kelinci", clue:"Hewan kecil berbulu, suka melompat dan makan wortel.", img:"K.webp"},
  {name:"tikus", clue:"Hewan kecil, suka makan keju dan berlari cepat.", img:"T.png"},
  {name:"unta", clue:"Hewan gurun dengan punuk untuk menyimpan lemak.", img:"unta.avif"},
  {name:"buaya", clue:"Reptil besar pemakan daging, tinggal di sungai.", img:"B.jpg"},
  {name:"singa", clue:"Raja hutan dengan surai besar pada jantan.", img:"s.avif"},
  {name:"zebra", clue:"Mamalia bergaris hitam-putih, mirip kuda.", img:"Z.jpg"},
  {name:"monyet", clue:"Hewan gesit, suka memanjat pohon, pintar.", img:"M.jpg"},
  {name:"lumba-lumba", clue:"Mamalia laut cerdas, suka meloncat di air.", img:"L.jpg"},
  {name:"kangguru", clue:"Hewan Australia, melompat tinggi dengan kantong di perut.", img:"guru.jpg"},
  {name:"kudanil", clue:"Hewan besar, hidup di air dan darat, gigi taring besar.", img:"N.jpg"},
  {name:"merak", clue:"Burung indah berekor panjang dan berwarna cerah.", img:"E.jpg"},
  {name:"rusa", clue:"Hewan bertanduk, lari cepat, hidup di hutan.", img:"R.jpg"}
];

let currentLevel = 0;

// Elements
const animalImg = document.getElementById('animalImg');
const levelNumber = document.getElementById('levelNumber');
const answerInput = document.getElementById('answerInput');
const resultText = document.getElementById('resultText');
const clueBox = document.getElementById('clueBox');
const emojiEffect = document.getElementById('emojiEffect');
const coinsEl = document.getElementById('coins');
const diamondsEl = document.getElementById('diamonds');

document.getElementById('checkBtn').addEventListener('click', checkAnswer);
document.getElementById('clueCoinBtn').addEventListener('click', buyClueCoin);
document.getElementById('clueDiamondBtn').addEventListener('click', buyClueDiamond);

// Tampilkan hewan
function showAnimal(){
    const animal = animals[currentLevel];
    animalImg.src = animal.img;
    animalImg.style.filter = "blur(6px)";
    levelNumber.textContent = currentLevel+1;
    clueBox.textContent = '';
    resultText.textContent = '';
    answerInput.value = '';

    let blurLevel = 6;
    const blurInterval = setInterval(()=>{
        if(blurLevel>2){
            blurLevel--;
            animalImg.style.filter = `blur(${blurLevel}px)`;
        } else clearInterval(blurInterval);
    }, 3000);
}

// Check jawaban
function checkAnswer(){
    const input = answerInput.value.toLowerCase();
    const correct = animals[currentLevel].name.toLowerCase();
    if(input === correct){
        resultText.textContent = "Jawaban benar!";
        showHore();
        nextLevel();
    } else resultText.textContent = "Jawaban salah!";
}

// Emoji HORE
function showHore(){
    emojiEffect.style.display = 'block';
    emojiEffect.textContent = "HORE! ðŸŽ‰ðŸ¥³";
    setTimeout(()=>{emojiEffect.style.display='none';},2000);
}

// Next level
function nextLevel(){
    currentLevel++;
    if(currentLevel>=animals.length){
        alert("Permainan selesai!");
        currentLevel = 0;
    }
    setTimeout(showAnimal,2000);
}

// Shop
function buyClueCoin(){
    let coins = parseInt(coinsEl.textContent);
    if(coins>=2){
        coins -=2;
        coinsEl.textContent = coins;
        clueBox.textContent = animals[currentLevel].clue;
        animalImg.style.filter = "blur(3px)";
    } else alert("Koin tidak cukup!");
}

function buyClueDiamond(){
    let diamonds = parseInt(diamondsEl.textContent);
    if(diamonds>=1){
        diamonds -=1;
        diamondsEl.textContent = diamonds;
        clueBox.textContent = "Jawaban: "+animals[currentLevel].name;
        animalImg.style.filter = "blur(0px)";
    } else alert("Diamond tidak cukup!");
}

// Mulai game
showAnimal();
